==================== Changes in man-pages-4.02 ====================

Released: 2015-08-08, Munich


Contributors
------------

The following people contributed patches/fixes or (noted in brackets
in the changelog below) reports, notes, and ideas that have been
incorporated in changes in this release:

Carlos O'Donell <carlos@redhat.com>
Daniel Borkmann <daniel@iogearbox.net>
David Rientjes <rientjes@google.com>
Dilyan Palauzov <dilyan.palauzov@aegee.org>
Gabriel F. T. Gomes <gftg@linux.vnet.ibm.com>
Gleb Fotengauer-Malinovskiy <glebfm@altlinux.org>
Goswin von Brederlow <goswin-v-b@web.de>
Heinrich Schuchardt <xypron.glpk@gmx.de>
Jonathan David Amery <jdamery@ysolde.ucam.org>
Michael Kerrisk <mtk.manpages@gmail.com>
Mike Frysinger <vapier@gentoo.org>
Mike Kravetz <mike.kravetz@oracle.com>
Nicholas Miell <nmiell@gmail.com>
Nikola Forró <nforro@redhat.com>
Sam Varshavchik <mrsam@courier-mta.com>
Yaarit <yaarit@gmail.com>
Zeng Linggang <zenglg.jy@cn.fujitsu.com>

Apologies if I missed anyone!


New and rewritten pages
-----------------------

dladdr.3
    Michael Kerrisk
        New page documenting dladdr() and dladdr1()
            Relocate/rewrite dladdr() text formerly contained in dlopen(3).

            Add documentation of dladdr1().
    Zeng Linggang
        ATTRIBUTES: Note functions that are thread-safe

dlerror.3
    Michael Kerrisk
        Migrate dlerror(3) to new separate man page
    Michael Kerrisk
        Note that the returned message may be in a statically allocated buffer
    Michael Kerrisk
        Note that the returned string does not include a trailing newline
    Zeng Linggang
        ATTRIBUTES: Note function that is thread-safe

dlinfo.3
    Michael Kerrisk
        New page describing dlinfo(3)
    Zeng Linggang
        ATTRIBUTES: Note function that is thread-safe

dlopen.3
    Michael Kerrisk
        This page was substantially rewritten and enhanced. Notably:
        * the dladdr(), dlsym, dlvsym(), and dlerror() content were moved
          to separate new pages;
        * documentation for dlmopen was added;
        * and other changes as noted below.
    Zeng Linggang
        ATTRIBUTES: Note functions that are thread-safe
    Michael Kerrisk
        Move atexit() discussion under "Initialization and Finalization"
    Michael Kerrisk
        Move discussion of _init() and _fini() to NOTES
    Michael Kerrisk
        Rework the discussion of initialization and finalization functions
            Deemphasize the obsolete _init/_fini and give more prominence
            to gcc constructors/destructors.
    Michael Kerrisk
        dlclose() will unload the object when all references have been released
    Michael Kerrisk
        EXAMPLE: Remove mention of "-rdynamic"
            That option isn't needed for compiling and running this program.
    Michael Kerrisk
        Remove reference to ld.so info page
            The command "info ld.so" simply shows the man page...
    Michael Kerrisk
        Add VERSIONS section
    Michael Kerrisk
        Reorganize conformance information for 'flags'

dlsysm.3
    Michael Kerrisk
        Move dlsym() and dlvsym() content to new separate page
    Zeng Linggang
        ATTRIBUTES: Note functions that are thread-safe


Newly documented interfaces in existing pages
---------------------------------------------

dlopen.3
    Michael Kerrisk, Carlos O'Donell
        Document dlmopen(3)

nl_langinfo.3
    Sam Varshavchik, Michael Kerrisk
        Add documentation for nl_langinfo_l(3)

__ppc_set_ppr_med.3
    Gabriel F. T. Gomes
        Document PPC functions providing access to PPR
            GNU C Library 2.18 adds functions (__ppc_set_ppr_low(3),
            __ppc_set_ppr_med(3), __ppc_set_ppr_med_low(3)) that provide
            access to the Program Priority Register (PPR).

__ppc_yield.3
    Gabriel F. T. Gomes
        Document PPC performance-hint functions
            GNU C Library 2.18 adds functions __ppc_yield(3), __ppc_mdoio(3),
            and __ppc_mdoom(3) that can be used provide a hint that
            performance could be improved if shared resources are released
            for use by other processors.


New and changed links
---------------------

dladdr1.3
    Michael Kerrisk
        New link to (new) dladdr(3) page

dlmopen.3
    Michael Kerrisk
        New link to dlopen.3

dlvsym.3
    Michael Kerrisk
        Adjust link to point to new self-contained dlsym(3) page

nl_langinfo_l.3
    Michael Kerrisk
        New link to nl_langinfo.3

__ppc_mdoio.3
    Gabriel F. T. Gomes
        New link to __ppc_yield.3

__ppc_mdoom.3
    Gabriel F. T. Gomes
        New link to __ppc_yield.3

__ppc_set_ppr_low.3
    Gabriel F. T. Gomes
        New link to __ppc_set_ppr_med.3

__ppc_set_ppr_med_low.3
    Gabriel F. T. Gomes
        New link to __ppc_set_ppr_med.3


Global changes
--------------

Very many pages
    Michael Kerrisk
        Update CONFORMING TO section to reflect POSIX.1-2001 and POSIX.1-2008
        details. (By now, I believe all pages should be up to date with
        respect to appropriately mentioning POSIX.1-2001 and POSIX.1-2008.)

ldd.1
sprof.1
execve.2
dlopen.3
ld.so.8
    Michael Kerrisk
        Prefer "shared object" over "shared library"
            The man pages variously use "shared library" or "shared object".
            Try to more consistently use one term ("shared object"), while
            also pointing out on a few pages that the terms are synonymous.


Changes to individual pages
---------------------------

accept.2
    Michael Kerrisk
        Add mention of POSIX.1-2008 regarding EAGAIN vs EWOULDBLOCK

bpf.2
    Daniel Borkmann
        Various updates/follow-ups to address some fixmes
            A couple of follow-ups to the bpf(2) man-page, besides others:

             * Description of map data types
             * Explanation on eBPF tail calls and program arrays
             * Paragraph on tc holding ref of the eBPF program in the kernel
             * Updated ASCII image with tc ingress and egress invocations
             * __sync_fetch_and_add() and example usage mentioned on arrays
             * minor reword on the licensing and other minor fixups

execve.2
    Michael Kerrisk
        Reword text on POSIX and #!

io_getevents.2
    Michael Kerrisk
        Note return value on interruption by a signal handler
    Michael Kerrisk
        Clarify details of return value for timeout-expired case
    Michael Kerrisk
        Clarify and extend discussion of 'timeout' argument

mmap.2
    Michael Kerrisk
        Note that 'length' need not be a page-size multiple for munmap()
    Michael Kerrisk  [David Rientjes, David Rientjes, Mike Kravetz]
        Describe mmap()/munmap() argument requirements for huge-page mappings
    Michael Kerrisk
        Move discussion of timestamps to NOTES
            A straight move; no changes to the content.
            This content is better placed in NOTES.

seccomp.2
    Michael Kerrisk
        SEE ALSO: mention libseccomp pages
        SEE ALSO: add scmp_sys_resolver(1)

sigaction.2
    Michael Kerrisk
        Correct the list of flags that were added in POSIX.1-2001

socketpair.2
    Michael Kerrisk  [Goswin von Brederlow]
        Clarify use of SOCK_* flags in 'type' argument
            See http://bugs.debian.org/794217

atexit.3
    Michael Kerrisk
        SEE ALSO: add dlopen(3)

clock_getcpuclockid.3
    Michael Kerrisk
        Improve wording of EPERM error
            It's imprecise to say that this is an "optional" error
            in POSIX.1.

dl_iterate_phdr.3
    Michael Kerrisk
        Note that 'size' allows callback() to discover structure extensions
    Michael Kerrisk
        SEE ALSO: add dladdr(3)
    Michael Kerrisk
        CONFORMING TO: note that this function appears on some other systems

fseeko.3
    Michael Kerrisk
        Remove crufty NOTES section
            This ancient System V detail is unneeded.

getutent.3
    Michael Kerrisk
        Mention POSIX.1-2008 for the "utmpx" functions

iconv_close.3
iconv_open.3
    Michael Kerrisk
        CONFORMING TO: change "UNIX98" to "SUSv2"

malloc.3
    Michael Kerrisk
        Change "UNIX 9*" to "SUSv2"

mktemp.3
    Gleb Fotengauer-Malinovskiy
        Reference mkdtemp(3) in addition to mkstemp(3)
            Mention mkdtemp(3) as another secure alternative to mktemp(3).

            See also https://sourceware.org/bugzilla/show_bug.cgi?id=2898.

mq_receive.3
mq_send.3
    Michael Kerrisk
        Clarify discussion of 'timeout'
            In particular, remove the word 'ceiling', which falsely
            suggests that the call might return prematurely.

nl_langinfo.3
    Michael Kerrisk
        Explicitly describe the return value on success
    Michael Kerrisk
        POSIX specifies that the caller may not modify the returned string
    Michael Kerrisk
        Enhance RETURN VALUE description
            Note some further cases where returned string may be
            invalidated or overwritten.

perror.3
    Michael Kerrisk
        Reformat CONFORMING to information
    Michael Kerrisk
        Note that 'sys_errlist' and 'sys_nerr' are not in POSIX.1

posix_openpt.3
    Michael Kerrisk
        Reword text regarding systems that don't have posix_openpt()

printf.3
    Michael Kerrisk
        CONFORMING TO: update details for dprintf() and vdprintf()

setlogmask.3
    Michael Kerrisk
        Remove useless statement in CONFORMING TO
            Saying that the description in PSOX.1-2001 is flawed,
            without saying what the fla is, is not helpful.
            (And no, I don't know what the flaw is.)

shm_open.3
    Michael Kerrisk
        Add POSIX.1-2008 details regarding group ID of new shared memory object

strfmon.3
    Michael Kerrisk
        Fix erroneous CONFORMING to
            strfmon() is in POSIX.1.

fanotify.7
    Heinrich Schuchardt
        Clarify effects of file moves
            If files or directories are moved to other mounts, the inode is
            deleted. Fanotify marks are lost.

mq_overview.7
    Michael Kerrisk
        Remove unneeded CONFORMING TO section

nptl.7
    Michael Kerrisk  [Nicholas Miell]
        Note that i386 and x86-64 binaries can't share mutexes

sched.7
    Nikola Forró
        Fix descriptions of sched_get_priority_max() / sched_get_priority_min()

sem_overview.7
    Michael Kerrisk
        Remove unneeded CONFORMING TO section

shm_overview.7
    Michael Kerrisk
        Remove unneeded CONFORMING TO section

sigevent.7
    Michael Kerrisk
        Remove unneeded CONFORMING TO section

symlink.7
    Michael Kerrisk
        Update with POSIX.1-2008 details for link(2)

ld.so.8
    Michael Kerrisk  [Jonathan David Amery]
        Items in LD_LIBRARY_PATH can also be delimited by semicolons
            See http://bugs.debian.org/794559.
